!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";(function(e){function n(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}r.d(t,"a",(function(){return s}));var s=function(){function t(r,i){var a=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),l.set(this,{writable:!0,value:new Worker(e,{type:void 0,globalObject:!1})}),u.set(this,{writable:!0,value:{}}),c.set(this,{writable:!0,value:function(e){console.log(e)}}),function(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}}(this,c,"function"==typeof r?r:function(){}),i&&(o(this,l).onerror=i),o(this,l).onmessage=function(e){if(e.data instanceof Object&&e.data.hasOwnProperty("queryMethodListener")&&e.data.hasOwnProperty("queryMethodArguments")){var t,r=e.data,i=r.queryMethodListener,s=r.queryMethodArguments;o(a,u)[i]&&(t=o(a,u))[i].apply(t,n(s))}else o(a,c).call(a,e.data)}}var r,i,s;return r=t,(i=[{key:"postMessage",value:function(e){o(this,l).postMessage(e)}},{key:"addListener",value:function(e,t){o(this,u)[e]=t}},{key:"removeListener",value:function(e){delete o(this,u)[e]}},{key:"sendQuery",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];if(arguments.length<1)throw new TypeError("QuerableWorker.sendQuery takes at least one argument");this.postMessage({queryMethod:e,queryArguments:r})}}])&&a(r.prototype,i),s&&a(r,s),t}(),l=new WeakMap,u=new WeakMap,c=new WeakMap}).call(this,r(7))},function(e,t,r){"use strict";var n,i=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},a=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function s(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function l(e,t){for(var r={},n=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],u=r[l]||0,c="".concat(l," ").concat(u);r[l]=u+1;var f=s(c),h={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(o[f].references++,o[f].updater(h)):o.push({identifier:c,updater:y(h,t),references:1}),n.push(c)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var i=r.nc;i&&(n.nonce=i)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,f=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,r,n){var i=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=f(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function d(e,t,r){var n=r.css,i=r.media,a=r.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var p=null,v=0;function y(e,t){var r,n,i;if(t.singleton){var a=v++;r=p||(p=u(t)),n=h.bind(null,r,a,!1),i=h.bind(null,r,a,!0)}else r=u(t),n=d.bind(null,r,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var r=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var i=s(r[n]);o[i].references--}for(var a=l(e,t),u=0;u<r.length;u++){var c=s(r[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}r=a}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var i=(o=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(a).concat([i]).join("\n")}var o,s,l;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);n&&i[l[0]]||(r&&(l[2]?l[2]="".concat(r," and ").concat(l[2]):l[2]=r),t.push(l))}},t}},function(e,t,r){var n=r(1),i=r(4);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(i,a);e.exports=i.locals||{}},function(e,t,r){(t=r(2)(!1)).push([e.i,"body #canvas{border:black 1px solid}\n",""]),e.exports=t},function(e,t,r){var n=r(1),i=r(6);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};n(i,a);e.exports=i.locals||{}},function(e,t,r){(t=r(2)(!1)).push([e.i,"/* http://meyerweb.com/eric/tools/css/reset/ \n   v2.0 | 20110126\n   License: none (public domain)\n*/\n\nhtml, body, div, span, applet, object, iframe,\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\na, abbr, acronym, address, big, cite, code,\ndel, dfn, em, img, ins, kbd, q, s, samp,\nsmall, strike, strong, sub, sup, tt, var,\nb, u, i, center,\ndl, dt, dd, ol, ul, li,\nfieldset, form, label, legend,\ntable, caption, tbody, tfoot, thead, tr, th, td,\narticle, aside, canvas, details, embed, \nfigure, figcaption, footer, header, hgroup, \nmenu, nav, output, ruby, section, summary,\ntime, mark, audio, video {\n\tmargin: 0;\n\tpadding: 0;\n\tborder: 0;\n\tfont-size: 100%;\n\tfont: inherit;\n\tvertical-align: baseline;\n}\n/* HTML5 display-role reset for older browsers */\narticle, aside, details, figcaption, figure, \nfooter, header, hgroup, menu, nav, section {\n\tdisplay: block;\n}\nbody {\n\tline-height: 1;\n}\nol, ul {\n\tlist-style: none;\n}\nblockquote, q {\n\tquotes: none;\n}\nblockquote:before, blockquote:after,\nq:before, q:after {\n\tcontent: '';\n\tcontent: none;\n}\ntable {\n\tborder-collapse: collapse;\n\tborder-spacing: 0;\n}",""]),e.exports=t},function(e,t,r){e.exports=r.p+"0.index.worker.js"},function(e,t,r){"use strict";r.r(t);r(3),r(5);var n=r(0);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}function u(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f.set(this,{writable:!0,value:void 0}),h.set(this,{writable:!0,value:void 0}),d.set(this,{writable:!0,value:void 0}),p.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0})}var t,r,n;return t=e,(r=[{key:"initSharedGrid",value:function(e,t,r,n,i){if(!(e instanceof SharedArrayBuffer&&t instanceof SharedArrayBuffer&&r instanceof SharedArrayBuffer))throw new TypeError("SharedGrid.constructor requires instance of SharedArrayBuffer as first, second and third argument");l(this,p,n),l(this,v,i),l(this,f,new Int8Array(e)),l(this,h,new Int8Array(t)),l(this,d,new Int8Array(r))}},{key:"gridToWrite",value:function(){return Atomics.load(u(this,d),0)?u(this,h):u(this,f)}},{key:"gridToDisplay",value:function(){return Atomics.load(u(this,d),0)?u(this,f):u(this,h)}},{key:"clearGrid",value:function(t){for(var r=0;r<u(this,p);r++)for(var n=0;n<u(this,v);n++)this.setCell(t,r,n,e.DEAD_CELL)}},{key:"getCell",value:function(e,t,r){if(!(e instanceof Int8Array))throw new TypeError("SharedGrid.getCell requires Int8Array as first argument");var n=t>=u(this,p)?0:t<0?u(this,p)-1:t,i=r>=u(this,v)?0:r<0?u(this,v)-1:r;return Atomics.load(e,n*u(this,v)+i)}},{key:"setCell",value:function(e,t,r,n){if(!(e instanceof Int8Array))throw new TypeError("SharedGrid.getCell requires Int8Array as first argument");Atomics.exchange(e,t*u(this,v)+r,n)}},{key:"getCoords",value:function(e){if(e<u(this,v)*u(this,p)){var t=Math.floor(e/u(this,v));return[t,e-t*u(this,v)]}return[0,0]}},{key:"getArrayCell",value:function(e,t){return this.getCell.apply(this,[e].concat(i(this.getCoords(t))))}},{key:"setArrayCell",value:function(e,t,r){this.setCell.apply(this,[e].concat(i(this.getCoords(t)),[r]))}},{key:"getNeighbors",value:function(e,t){for(var r=[],n=-1;n<2;n++)for(var i=-1;i<2;i++)0===n&&0===i||r.push(this.getCell(this.gridToDisplay(),e+n,t+i));return r}},{key:"setNextArrayCellState",value:function(e){this.setNextCellState.apply(this,i(this.getCoords(e)))}},{key:"setNextCellState",value:function(t,r){var n=this.getCell(this.gridToDisplay(),t,r),i=this.getNeighbors(t,r),a=0;i.forEach((function(t){t===e.ALIVE_CELL&&a++}));var o=3===a||n===e.ALIVE_CELL&&2===a?e.ALIVE_CELL:e.DEAD_CELL;this.setCell(this.gridToWrite(),t,r,o)}},{key:"setNextShareState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(this,p)*u(this,v);if("number"!=typeof e||"number"!=typeof t||e<0||t<0)throw new TypeError("SharedGrid.setNextShareState should be run with no arguments or with two positive integers");if(e>t){var r=[t,e];e=r[0],t=r[1]}for(var n=e;n<t;n++)this.setNextArrayCellState(n)}},{key:"height",get:function(){return u(this,p)}},{key:"width",get:function(){return u(this,v)}}])&&o(t.prototype,r),n&&o(t,n),e}(),f=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,v=new WeakMap;function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function w(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}s(c,"DEAD_CELL",0),s(c,"ALIVE_CELL",1);var b=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m.set(this,{writable:!0,value:window.navigator.hardwareConcurrency-1}),k.set(this,{writable:!0,value:[]}),A.set(this,{writable:!0,value:void 0}),C.set(this,{writable:!0,value:void 0}),E.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),L.set(this,{writable:!0,value:void 0}),T.set(this,{writable:!0,value:0}),w(this,E,new SharedArrayBuffer(t*r)),w(this,S,new SharedArrayBuffer(t*r)),w(this,L,new SharedArrayBuffer(1)),w(this,A,new c),g(this,A).initSharedGrid(g(this,E),g(this,S),g(this,L),t,r),w(this,C,new Int8Array(g(this,L))),Atomics.exchange(g(this,C),0,0)}var t,r,i;return t=e,(r=[{key:"initWebWorkers",value:function(){for(var e=0;e<g(this,m);e++)g(this,k).push(new n.a),g(this,k)[e].addListener("printStuff",(function(e){return console.log(e)})),g(this,k)[e].sendQuery("initSharedGrid",g(this,E),g(this,S),g(this,L),g(this,A).height,g(this,A).width)}},{key:"scatterQuery",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0;i<g(this,m);i++){var a;(a=g(this,k)[i]).sendQuery.apply(a,[e].concat(r))}}},{key:"scatterListener",value:function(e,t){for(var r=0;r<g(this,m);r++)g(this,k)[r].addListener(e,t)}},{key:"getCellToDisplay",value:function(e,t){return g(this,A).getCell(g(this,A).gridToDisplay(),e,t)}},{key:"toggleCellToDisplay",value:function(e,t){var r=g(this,A).gridToDisplay();g(this,A).setCell(r,e,t,g(this,A).getCell(r,e,t)===c.DEAD_CELL?c.ALIVE_CELL:c.DEAD_CELL)}},{key:"toggleDisplayFlag",value:function(){var e=Atomics.load(g(this,C),0);Atomics.exchange(g(this,C),0,e?0:1)}},{key:"calcNextState",value:function(){g(this,A).setNextShareState(),this.toggleDisplayFlag()}},{key:"calcNextStateParallel",value:function(){for(var e=g(this,A).height*g(this,A).width,t=e%g(this,m),r=Math.floor(e/g(this,m)),n=g(this,m)-t,i=0;i<n;i++)g(this,k)[i].sendQuery("setNextShareState",i*r,(i+1)*r);for(var a=r*n,o=n;o<g(this,m);o++)g(this,k)[o].sendQuery("setNextShareState",a+(o-n)*(r+1),a+(o-n+1)*(r+1))}},{key:"clearDisplaySharedGrid",value:function(){g(this,A).clearGrid(g(this,A).gridToDisplay())}},{key:"incrGridAnswer",value:function(){return w(this,T,+g(this,T)+1)>=g(this,m)&&(w(this,T,0),!0)}}])&&y(t.prototype,r),i&&y(t,i),e}(),m=new WeakMap,k=new WeakMap,A=new WeakMap,C=new WeakMap,E=new WeakMap,S=new WeakMap,L=new WeakMap,T=new WeakMap;function M(e){return function(e){if(Array.isArray(e))return I(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function D(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var O=function(){function e(t,r,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),_.set(this,{writable:!0,value:void 0}),q.set(this,{writable:!0,value:void 0}),P.set(this,{writable:!0,value:void 0}),N.set(this,{writable:!0,value:void 0}),G.set(this,{writable:!0,value:void 0}),D(this,_,document.querySelector(t)),D(this,q,x(this,_).getContext("2d")),this.setGrid(r,n)}var t,r,n;return t=e,(r=[{key:"getParentWidth",value:function(){return x(this,_).parentElement.clientWidth}},{key:"setGrid",value:function(e,t){D(this,P,e),D(this,N,t),this.setSize()}},{key:"getHeight",value:function(){return x(this,_).scrollHeight}},{key:"getWidth",value:function(){return x(this,_).scrollWidth}},{key:"setSize",value:function(){D(this,G,this.getParentWidth()/x(this,N)),x(this,_).width=this.getParentWidth(),x(this,_).height=x(this,G)*x(this,P)}},{key:"cellToCords",value:function(e,t){return[t*x(this,G),e*x(this,G)]}},{key:"cordsToCell",value:function(e,t){return[Math.floor(t/x(this,G)),Math.floor(e/x(this,G))]}},{key:"drawBorder",value:function(t,r,n){var i;x(this,q).beginPath(),x(this,q).lineWidth=function(e,t,r){if(e!==t)throw new TypeError("Private static access of wrong provenance");return r.get?r.get.call(e):r.value}(e,e,B),x(this,q).strokeStyle=n,(i=x(this,q)).rect.apply(i,M(this.cellToCords(t,r)).concat([x(this,G),x(this,G)])),x(this,q).stroke()}},{key:"fillCell",value:function(t,r){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ALIVE_CELL_FILL,a=this.cellToCords(t,r);a[0]+=1,a[1]+=1,x(this,q).fillStyle=i,(n=x(this,q)).fillRect.apply(n,M(a).concat([x(this,G)-2,x(this,G)-2]))}},{key:"fillCellAlive",value:function(t,r){var n,i=this.cellToCords(t,r);x(this,q).fillStyle=e.ALIVE_CELL_FILL,(n=x(this,q)).fillRect.apply(n,M(i).concat([x(this,G),x(this,G)]))}},{key:"fillCellDead",value:function(t,r){var n,i=this.cellToCords(t,r);x(this,q).fillStyle=e.DEAD_CELL_FILL,(n=x(this,q)).fillRect.apply(n,M(i).concat([x(this,G),x(this,G)])),this.drawBorder(t,r,e.ALIVE_CELL_FILL)}},{key:"canvas",get:function(){return x(this,_)}}])&&W(t.prototype,r),n&&W(t,n),e}(),_=new WeakMap,q=new WeakMap,P=new WeakMap,N=new WeakMap,G=new WeakMap;j(O,"DEAD_CELL_FILL","white"),j(O,"ALIVE_CELL_FILL","black");var B={writable:!0,value:"1"};function F(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e,t,r){if(e!==t)throw new TypeError("Private static access of wrong provenance");return r.get?r.get.call(e):r.value}function V(e,t){var r=t.get(e);if(!r)throw new TypeError("attempted to get private field on non-instance");return r.get?r.get.call(e):r.value}function R(e,t,r){var n=t.get(e);if(!n)throw new TypeError("attempted to set private field on non-instance");if(n.set)n.set.call(e,r);else{if(!n.writable)throw new TypeError("attempted to set read only private field");n.value=r}return r}var U=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Q.set(this,{writable:!0,value:void 0}),z.set(this,{writable:!0,value:void 0}),R(this,Q,document.querySelector(t)),R(this,z,document.querySelector(r)),V(this,Q).value=H(e,e,$),V(this,z).value=H(e,e,J),V(this,Q).oninput=this.handleChange(V(this,Q)),V(this,z).oninput=this.handleChange(V(this,z))}var t,r,n;return t=e,(r=[{key:"handleChange",value:function(e){return function(){var e=new Event("resize");window.dispatchEvent(e)}}},{key:"gridHeight",get:function(){return V(this,Q).value?parseInt(V(this,Q).value)>V(this,Q).max?parseInt(V(this,Q).max):parseInt(V(this,Q).value)<V(this,Q).min?parseInt(V(this,Q).min):parseInt(V(this,Q).value):H(e,e,$)}},{key:"gridWidth",get:function(){return V(this,z).value?parseInt(V(this,z).value)>V(this,z).max?parseInt(V(this,z).max):parseInt(V(this,z).value)<V(this,z).min?parseInt(V(this,z).min):parseInt(V(this,z).value):H(e,e,J)}}])&&F(t.prototype,r),n&&F(t,n),e}(),Q=new WeakMap,z=new WeakMap,$={writable:!0,value:50},J={writable:!0,value:110};function X(e){return function(e){if(Array.isArray(e))return Y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Y(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var K=document.querySelector(".button--start"),Z=document.querySelector(".button--clear"),ee=new U(".input--height > input",".input--width > input"),te=new O("#canvas",ee.gridHeight,ee.gridWidth),re=new b(ee.gridHeight,ee.gridWidth);re.initWebWorkers(),window.addEventListener("resize",(function(){oe=!oe,(re=new b(ee.gridHeight,ee.gridWidth)).initWebWorkers(),te.setGrid(ee.gridHeight,ee.gridWidth),ne()}));var ne=function(){for(var e=0;e<ee.gridHeight;e++)for(var t=0;t<ee.gridWidth;t++)re.getCellToDisplay(e,t)===c.ALIVE_CELL?te.fillCellAlive(e,t):te.fillCellDead(e,t)};ne();var ie=new Event("rerender");window.addEventListener("rerender",(function(){ne()})),te.canvas.onmousedown=function(e){var t,r,n=e.offsetX,i=e.offsetY,a=te.cordsToCell(n,i);(t=re).getCellToDisplay.apply(t,X(a))===c.ALIVE_CELL?te.fillCellDead.apply(te,X(a)):te.fillCellAlive.apply(te,X(a)),(r=re).toggleCellToDisplay.apply(r,X(a))},re.scatterListener("gridAnswer",(function(){re.incrGridAnswer()&&(re.toggleDisplayFlag(),window.dispatchEvent(ie))}));var ae,oe=!1;K.onclick=function(){(oe=!oe)?function e(){re.calcNextStateParallel(),ae=setTimeout(e,200)}():clearTimeout(ae)},Z.onclick=function(){re.clearDisplaySharedGrid(),ne()}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvUXVlcnlhYmxlV29ya2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguc2Nzcz80YzM3Iiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvaW5kZXguc2NzcyIsIndlYnBhY2s6Ly8vLi9zcmMvc3R5bGVzL3Jlc2V0LmNzcz80Y2ZiIiwid2VicGFjazovLy8uL3NyYy9zdHlsZXMvcmVzZXQuY3NzIiwid2VicGFjazovLy8uL3NyYy93b3JrZXJzL3dvcmtlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kdWxlcy9TaGFyZWRHcmlkLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL1dvcmtlck1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZHVsZXMvQ2FudmFzLmpzIiwid2VicGFjazovLy8uL3NyYy9tb2R1bGVzL0dyaWRJbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJRdWVyeWFibGVXb3JrZXIiLCJkZWZhdWx0TGlzdGVuZXIiLCJvbkVycm9yIiwiV29ya2VyIiwidHlwZSIsImdsb2JhbE9iamVjdCIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwidGhpcyIsIm9uZXJyb3IiLCJvbm1lc3NhZ2UiLCJldmVudCIsImRhdGEiLCJxdWVyeU1ldGhvZExpc3RlbmVyIiwicXVlcnlNZXRob2RBcmd1bWVudHMiLCJwb3N0TWVzc2FnZSIsImxpc3RlbmVyIiwicXVlcnlNZXRob2QiLCJxdWVyeUFyZ3VtZW50cyIsImFyZ3VtZW50cyIsImxlbmd0aCIsIlR5cGVFcnJvciIsIm1lbW8iLCJpc09sZElFIiwiQm9vbGVhbiIsIndpbmRvdyIsImRvY3VtZW50IiwiYWxsIiwiYXRvYiIsImdldFRhcmdldCIsInRhcmdldCIsInN0eWxlVGFyZ2V0IiwicXVlcnlTZWxlY3RvciIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJvcHRpb25zIiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiY29uY2F0IiwiaW5kZXgiLCJvYmoiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwicHVzaCIsImFkZFN0eWxlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGUiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlcyIsIm5vbmNlIiwia2V5cyIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImpvaW4iLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsInVzZVNvdXJjZU1hcCIsIm1hcCIsImNvbnRlbnQiLCJjc3NNYXBwaW5nIiwic291cmNlTWFwcGluZyIsImJhc2U2NCIsInNvdXJjZVVSTHMiLCJzb3VyY2VzIiwic291cmNlIiwic291cmNlUm9vdCIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJtZWRpYVF1ZXJ5IiwiZGVkdXBlIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImFwaSIsImRlZmF1bHQiLCJsb2NhbHMiLCJfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18iLCJTaGFyZWRHcmlkIiwic2hhcmVkQXJyYXlCdWZmZXIiLCJzaGFyZWRBcnJheUJ1ZmZlclRtcCIsInNoYXJlZERpc3BsYXlGbGFnIiwiaGVpZ2h0Iiwid2lkdGgiLCJTaGFyZWRBcnJheUJ1ZmZlciIsIkludDhBcnJheSIsIkF0b21pY3MiLCJsb2FkIiwiZ3JpZCIsImoiLCJzZXRDZWxsIiwiREVBRF9DRUxMIiwiZXhjaGFuZ2UiLCJ4IiwiTWF0aCIsImZsb29yIiwiZ2V0Q2VsbCIsImdldENvb3JkcyIsIm5laWdoYm9ycyIsImEiLCJiIiwiZ3JpZFRvRGlzcGxheSIsInNldE5leHRDZWxsU3RhdGUiLCJjZWxsIiwiZ2V0TmVpZ2hib3JzIiwiYWxpdmUiLCJBTElWRV9DRUxMIiwiZ3JpZFRvV3JpdGUiLCJzZXROZXh0QXJyYXlDZWxsU3RhdGUiLCJXb3JrZXJNYW5hZ2VyIiwibmF2aWdhdG9yIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsImluaXRTaGFyZWRHcmlkIiwiYWRkTGlzdGVuZXIiLCJzZW5kUXVlcnkiLCJmbGFnIiwic2V0TmV4dFNoYXJlU3RhdGUiLCJ0b2dnbGVEaXNwbGF5RmxhZyIsImxlbiIsIm1vZCIsInNoYXJlIiwib2Zmc2V0IiwiY2xlYXJHcmlkIiwiQ2FudmFzIiwicXVlcnlTdHJpbmciLCJncmlkSGVpZ2h0IiwiZ3JpZFdpZHRoIiwiZ2V0Q29udGV4dCIsInNldEdyaWQiLCJwYXJlbnRFbGVtZW50IiwiY2xpZW50V2lkdGgiLCJzZXRTaXplIiwic2Nyb2xsSGVpZ2h0Iiwic2Nyb2xsV2lkdGgiLCJnZXRQYXJlbnRXaWR0aCIsInkiLCJiZWdpblBhdGgiLCJsaW5lV2lkdGgiLCJzdHJva2VTdHlsZSIsInJlY3QiLCJjZWxsVG9Db3JkcyIsInN0cm9rZSIsImZpbGwiLCJBTElWRV9DRUxMX0ZJTEwiLCJjb3JkcyIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiREVBRF9DRUxMX0ZJTEwiLCJkcmF3Qm9yZGVyIiwiR3JpZElucHV0IiwiaGVpZ2h0UXVlcnkiLCJ3aWR0aFF1ZXJ5Iiwib25pbnB1dCIsImhhbmRsZUNoYW5nZSIsImlucHV0IiwiRXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwicGFyc2VJbnQiLCJtYXgiLCJtaW4iLCJuZXh0QnV0dG9uIiwiY2xlYXJCdXR0b24iLCJncmlkSW5wdXQiLCJjYW52YXMiLCJ3b3JrZXJNYW5hZ2VyIiwiaW5pdFdlYldvcmtlcnMiLCJhZGRFdmVudExpc3RlbmVyIiwiY2xpY2tlZCIsInJlbmRlciIsImdldENlbGxUb0Rpc3BsYXkiLCJmaWxsQ2VsbEFsaXZlIiwiZmlsbENlbGxEZWFkIiwicmVyZW5kZXJFdmVudCIsIm9ubW91c2Vkb3duIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJjb3Jkc1RvQ2VsbCIsInRvZ2dsZUNlbGxUb0Rpc3BsYXkiLCJzY2F0dGVyTGlzdGVuZXIiLCJpbmNyR3JpZEFuc3dlciIsInRpbWVvdXRJZCIsIm9uY2xpY2siLCJ0aW1lb3V0TmV4dCIsImNhbGNOZXh0U3RhdGVQYXJhbGxlbCIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjbGVhckRpc3BsYXlTaGFyZWRHcmlkIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FB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LEVBQWEsS0FLdkJBLEdBQ1JHLGFBQWFMLEtBR3BCbkIsRUFBWW9CLFFBQVUsV0FDcEJqQixHQUFjc0IseUJBQ2RsQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4KTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFF1ZXJ5YWJsZVdvcmtlciB7XG4gICN3b3JrZXIgPSBuZXcgV29ya2VyKFwiLi4vd29ya2Vycy93b3JrZXIuanNcIiwge1xuICAgIHR5cGU6IFwibW9kdWxlXCIsXG4gICAgZ2xvYmFsT2JqZWN0OiBmYWxzZSxcbiAgfSk7XG5cbiAgI2xpc3RlbmVycyA9IHt9O1xuICAjZGVmYXVsdExpc3RlbmVyID0gKG1lc3NhZ2UpID0+IHtcbiAgICBjb25zb2xlLmxvZyhtZXNzYWdlKTtcbiAgfTtcblxuICBjb25zdHJ1Y3RvcihkZWZhdWx0TGlzdGVuZXIsIG9uRXJyb3IpIHtcbiAgICB0aGlzLiNkZWZhdWx0TGlzdGVuZXIgPVxuICAgICAgdHlwZW9mIGRlZmF1bHRMaXN0ZW5lciA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdExpc3RlbmVyIDogKCkgPT4ge307XG5cbiAgICBpZiAob25FcnJvcikgdGhpcy4jd29ya2VyLm9uZXJyb3IgPSBvbkVycm9yO1xuXG4gICAgdGhpcy4jd29ya2VyLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldmVudC5kYXRhIGluc3RhbmNlb2YgT2JqZWN0ICYmXG4gICAgICAgIGV2ZW50LmRhdGEuaGFzT3duUHJvcGVydHkoXCJxdWVyeU1ldGhvZExpc3RlbmVyXCIpICYmXG4gICAgICAgIGV2ZW50LmRhdGEuaGFzT3duUHJvcGVydHkoXCJxdWVyeU1ldGhvZEFyZ3VtZW50c1wiKVxuICAgICAgKSB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnlNZXRob2RMaXN0ZW5lciwgcXVlcnlNZXRob2RBcmd1bWVudHMgfSA9IGV2ZW50LmRhdGE7XG4gICAgICAgIHRoaXMuI2xpc3RlbmVyc1txdWVyeU1ldGhvZExpc3RlbmVyXSAmJlxuICAgICAgICAgIHRoaXMuI2xpc3RlbmVyc1txdWVyeU1ldGhvZExpc3RlbmVyXSguLi5xdWVyeU1ldGhvZEFyZ3VtZW50cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLiNkZWZhdWx0TGlzdGVuZXIoZXZlbnQuZGF0YSk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHBvc3RNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICB0aGlzLiN3b3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cblxuICBhZGRMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lcikge1xuICAgIHRoaXMuI2xpc3RlbmVyc1tuYW1lXSA9IGxpc3RlbmVyO1xuICB9XG5cbiAgcmVtb3ZlTGlzdGVuZXIobmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLiNsaXN0ZW5lcnNbbmFtZV07XG4gIH1cblxuICBzZW5kUXVlcnkocXVlcnlNZXRob2QsIC4uLnF1ZXJ5QXJndW1lbnRzKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBcIlF1ZXJhYmxlV29ya2VyLnNlbmRRdWVyeSB0YWtlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnRcIlxuICAgICAgKTtcbiAgICB9XG5cbiAgICB0aGlzLnBvc3RNZXNzYWdlKHtcbiAgICAgIHF1ZXJ5TWV0aG9kLFxuICAgICAgcXVlcnlBcmd1bWVudHMsXG4gICAgfSk7XG4gIH1cbn1cbiIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgaXNPbGRJRSA9IGZ1bmN0aW9uIGlzT2xkSUUoKSB7XG4gIHZhciBtZW1vO1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUoKSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vID09PSAndW5kZWZpbmVkJykge1xuICAgICAgLy8gVGVzdCBmb3IgSUUgPD0gOSBhcyBwcm9wb3NlZCBieSBCcm93c2VyaGFja3NcbiAgICAgIC8vIEBzZWUgaHR0cDovL2Jyb3dzZXJoYWNrcy5jb20vI2hhY2stZTcxZDg2OTJmNjUzMzQxNzNmZWU3MTVjMjIyY2I4MDVcbiAgICAgIC8vIFRlc3RzIGZvciBleGlzdGVuY2Ugb2Ygc3RhbmRhcmQgZ2xvYmFscyBpcyB0byBhbGxvdyBzdHlsZS1sb2FkZXJcbiAgICAgIC8vIHRvIG9wZXJhdGUgY29ycmVjdGx5IGludG8gbm9uLXN0YW5kYXJkIGVudmlyb25tZW50c1xuICAgICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vd2VicGFjay1jb250cmliL3N0eWxlLWxvYWRlci9pc3N1ZXMvMTc3XG4gICAgICBtZW1vID0gQm9vbGVhbih3aW5kb3cgJiYgZG9jdW1lbnQgJiYgZG9jdW1lbnQuYWxsICYmICF3aW5kb3cuYXRvYik7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG59KCk7XG5cbnZhciBnZXRUYXJnZXQgPSBmdW5jdGlvbiBnZXRUYXJnZXQoKSB7XG4gIHZhciBtZW1vID0ge307XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSh0YXJnZXQpIHtcbiAgICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbiAgfTtcbn0oKTtcblxudmFyIHN0eWxlc0luRG9tID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5Eb20ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5Eb21baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGVzSW5Eb20ucHVzaCh7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IGFkZFN0eWxlKG9iaiwgb3B0aW9ucyksXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gIHZhciBhdHRyaWJ1dGVzID0gb3B0aW9ucy5hdHRyaWJ1dGVzIHx8IHt9O1xuXG4gIGlmICh0eXBlb2YgYXR0cmlidXRlcy5ub25jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09ICd1bmRlZmluZWQnID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gICAgaWYgKG5vbmNlKSB7XG4gICAgICBhdHRyaWJ1dGVzLm5vbmNlID0gbm9uY2U7XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoYXR0cmlidXRlcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKGtleSwgYXR0cmlidXRlc1trZXldKTtcbiAgfSk7XG5cbiAgaWYgKHR5cGVvZiBvcHRpb25zLmluc2VydCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdGlvbnMuaW5zZXJ0KHN0eWxlKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KG9wdGlvbnMuaW5zZXJ0IHx8ICdoZWFkJyk7XG5cbiAgICBpZiAoIXRhcmdldCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgICB9XG5cbiAgICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICB9XG5cbiAgcmV0dXJuIHN0eWxlO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGUpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZS5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZSk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG52YXIgcmVwbGFjZVRleHQgPSBmdW5jdGlvbiByZXBsYWNlVGV4dCgpIHtcbiAgdmFyIHRleHRTdG9yZSA9IFtdO1xuICByZXR1cm4gZnVuY3Rpb24gcmVwbGFjZShpbmRleCwgcmVwbGFjZW1lbnQpIHtcbiAgICB0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG4gICAgcmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG4gIH07XG59KCk7XG5cbmZ1bmN0aW9uIGFwcGx5VG9TaW5nbGV0b25UYWcoc3R5bGUsIGluZGV4LCByZW1vdmUsIG9iaikge1xuICB2YXIgY3NzID0gcmVtb3ZlID8gJycgOiBvYmoubWVkaWEgPyBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpLmNvbmNhdChvYmouY3NzLCBcIn1cIikgOiBvYmouY3NzOyAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG4gIGlmIChzdHlsZS5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGUuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuICAgIHZhciBjaGlsZE5vZGVzID0gc3R5bGUuY2hpbGROb2RlcztcblxuICAgIGlmIChjaGlsZE5vZGVzW2luZGV4XSkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH1cblxuICAgIGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgc3R5bGUuaW5zZXJ0QmVmb3JlKGNzc05vZGUsIGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUuYXBwZW5kQ2hpbGQoY3NzTm9kZSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5VG9UYWcoc3R5bGUsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gb2JqLmNzcztcbiAgdmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAobWVkaWEpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ21lZGlhJywgbWVkaWEpO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLnJlbW92ZUF0dHJpYnV0ZSgnbWVkaWEnKTtcbiAgfVxuXG4gIGlmIChzb3VyY2VNYXAgJiYgYnRvYSkge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xuLy8gY3NzIGJhc2UgY29kZSwgaW5qZWN0ZWQgYnkgdGhlIGNzcy1sb2FkZXJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uICh1c2VTb3VyY2VNYXApIHtcbiAgdmFyIGxpc3QgPSBbXTsgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtLCB1c2VTb3VyY2VNYXApO1xuXG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICByZXR1cm4gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGNvbnRlbnQsIFwifVwiKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbignJyk7XG4gIH07IC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBmdW5jLW5hbWVzXG5cblxuICBsaXN0LmkgPSBmdW5jdGlvbiAobW9kdWxlcywgbWVkaWFRdWVyeSwgZGVkdXBlKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCAnJ11dO1xuICAgIH1cblxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG5cbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHByZWZlci1kZXN0cnVjdHVyaW5nXG4gICAgICAgIHZhciBpZCA9IHRoaXNbaV1bMF07XG5cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbW9kdWxlcy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2ldKTtcblxuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb250aW51ZVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lZGlhUXVlcnkpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhUXVlcnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsyXSA9IFwiXCIuY29uY2F0KG1lZGlhUXVlcnksIFwiIGFuZCBcIikuY29uY2F0KGl0ZW1bMl0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIGxpc3Q7XG59O1xuXG5mdW5jdGlvbiBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0sIHVzZVNvdXJjZU1hcCkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV0gfHwgJyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBwcmVmZXItZGVzdHJ1Y3R1cmluZ1xuXG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcblxuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuXG4gIGlmICh1c2VTb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IHRvQ29tbWVudChjc3NNYXBwaW5nKTtcbiAgICB2YXIgc291cmNlVVJMcyA9IGNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIFwiLyojIHNvdXJjZVVSTD1cIi5jb25jYXQoY3NzTWFwcGluZy5zb3VyY2VSb290IHx8ICcnKS5jb25jYXQoc291cmNlLCBcIiAqL1wiKTtcbiAgICB9KTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKCdcXG4nKTtcbiAgfVxuXG4gIHJldHVybiBbY29udGVudF0uam9pbignXFxuJyk7XG59IC8vIEFkYXB0ZWQgZnJvbSBjb252ZXJ0LXNvdXJjZS1tYXAgKE1JVClcblxuXG5mdW5jdGlvbiB0b0NvbW1lbnQoc291cmNlTWFwKSB7XG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bmRlZlxuICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKTtcbiAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICByZXR1cm4gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xufSIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vaW5kZXguc2Nzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiLy8gSW1wb3J0c1xudmFyIF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCIpO1xuZXhwb3J0cyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhmYWxzZSk7XG4vLyBNb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcImJvZHkgI2NhbnZhc3tib3JkZXI6YmxhY2sgMXB4IHNvbGlkfVxcblwiLCBcIlwiXSk7XG4vLyBFeHBvcnRzXG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHM7XG4iLCJ2YXIgYXBpID0gcmVxdWlyZShcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIik7XG4gICAgICAgICAgICB2YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vcmVzZXQuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCIvLyBJbXBvcnRzXG52YXIgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fID0gcmVxdWlyZShcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIik7XG5leHBvcnRzID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKGZhbHNlKTtcbi8vIE1vZHVsZVxuZXhwb3J0cy5wdXNoKFttb2R1bGUuaWQsIFwiLyogaHR0cDovL21leWVyd2ViLmNvbS9lcmljL3Rvb2xzL2Nzcy9yZXNldC8gXFxuICAgdjIuMCB8IDIwMTEwMTI2XFxuICAgTGljZW5zZTogbm9uZSAocHVibGljIGRvbWFpbilcXG4qL1xcblxcbmh0bWwsIGJvZHksIGRpdiwgc3BhbiwgYXBwbGV0LCBvYmplY3QsIGlmcmFtZSxcXG5oMSwgaDIsIGgzLCBoNCwgaDUsIGg2LCBwLCBibG9ja3F1b3RlLCBwcmUsXFxuYSwgYWJiciwgYWNyb255bSwgYWRkcmVzcywgYmlnLCBjaXRlLCBjb2RlLFxcbmRlbCwgZGZuLCBlbSwgaW1nLCBpbnMsIGtiZCwgcSwgcywgc2FtcCxcXG5zbWFsbCwgc3RyaWtlLCBzdHJvbmcsIHN1Yiwgc3VwLCB0dCwgdmFyLFxcbmIsIHUsIGksIGNlbnRlcixcXG5kbCwgZHQsIGRkLCBvbCwgdWwsIGxpLFxcbmZpZWxkc2V0LCBmb3JtLCBsYWJlbCwgbGVnZW5kLFxcbnRhYmxlLCBjYXB0aW9uLCB0Ym9keSwgdGZvb3QsIHRoZWFkLCB0ciwgdGgsIHRkLFxcbmFydGljbGUsIGFzaWRlLCBjYW52YXMsIGRldGFpbHMsIGVtYmVkLCBcXG5maWd1cmUsIGZpZ2NhcHRpb24sIGZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIFxcbm1lbnUsIG5hdiwgb3V0cHV0LCBydWJ5LCBzZWN0aW9uLCBzdW1tYXJ5LFxcbnRpbWUsIG1hcmssIGF1ZGlvLCB2aWRlbyB7XFxuXFx0bWFyZ2luOiAwO1xcblxcdHBhZGRpbmc6IDA7XFxuXFx0Ym9yZGVyOiAwO1xcblxcdGZvbnQtc2l6ZTogMTAwJTtcXG5cXHRmb250OiBpbmhlcml0O1xcblxcdHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG59XFxuLyogSFRNTDUgZGlzcGxheS1yb2xlIHJlc2V0IGZvciBvbGRlciBicm93c2VycyAqL1xcbmFydGljbGUsIGFzaWRlLCBkZXRhaWxzLCBmaWdjYXB0aW9uLCBmaWd1cmUsIFxcbmZvb3RlciwgaGVhZGVyLCBoZ3JvdXAsIG1lbnUsIG5hdiwgc2VjdGlvbiB7XFxuXFx0ZGlzcGxheTogYmxvY2s7XFxufVxcbmJvZHkge1xcblxcdGxpbmUtaGVpZ2h0OiAxO1xcbn1cXG5vbCwgdWwge1xcblxcdGxpc3Qtc3R5bGU6IG5vbmU7XFxufVxcbmJsb2NrcXVvdGUsIHEge1xcblxcdHF1b3Rlczogbm9uZTtcXG59XFxuYmxvY2txdW90ZTpiZWZvcmUsIGJsb2NrcXVvdGU6YWZ0ZXIsXFxucTpiZWZvcmUsIHE6YWZ0ZXIge1xcblxcdGNvbnRlbnQ6ICcnO1xcblxcdGNvbnRlbnQ6IG5vbmU7XFxufVxcbnRhYmxlIHtcXG5cXHRib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xcblxcdGJvcmRlci1zcGFjaW5nOiAwO1xcbn1cIiwgXCJcIl0pO1xuLy8gRXhwb3J0c1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMC5pbmRleC53b3JrZXIuanNcIiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNoYXJlZEdyaWQge1xuICBzdGF0aWMgREVBRF9DRUxMID0gMDtcbiAgc3RhdGljIEFMSVZFX0NFTEwgPSAxO1xuXG4gIC8vIHNoYXJlZCBhcnJheXNcbiAgI2dyaWQ7XG4gICNncmlkVG1wO1xuICAjaXNHcmlkRGlzcGxheWVkO1xuXG4gICNoZWlnaHQ7XG4gICN3aWR0aDtcblxuICBnZXQgaGVpZ2h0KCkge1xuICAgIHJldHVybiB0aGlzLiNoZWlnaHQ7XG4gIH1cblxuICBnZXQgd2lkdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3dpZHRoO1xuICB9XG5cbiAgaW5pdFNoYXJlZEdyaWQoXG4gICAgc2hhcmVkQXJyYXlCdWZmZXIsXG4gICAgc2hhcmVkQXJyYXlCdWZmZXJUbXAsXG4gICAgc2hhcmVkRGlzcGxheUZsYWcsXG4gICAgaGVpZ2h0LFxuICAgIHdpZHRoXG4gICkge1xuICAgIGlmIChcbiAgICAgICEoXG4gICAgICAgIHNoYXJlZEFycmF5QnVmZmVyIGluc3RhbmNlb2YgU2hhcmVkQXJyYXlCdWZmZXIgJiZcbiAgICAgICAgc2hhcmVkQXJyYXlCdWZmZXJUbXAgaW5zdGFuY2VvZiBTaGFyZWRBcnJheUJ1ZmZlciAmJlxuICAgICAgICBzaGFyZWREaXNwbGF5RmxhZyBpbnN0YW5jZW9mIFNoYXJlZEFycmF5QnVmZmVyXG4gICAgICApXG4gICAgKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcbiAgICAgICAgXCJTaGFyZWRHcmlkLmNvbnN0cnVjdG9yIHJlcXVpcmVzIGluc3RhbmNlIG9mIFNoYXJlZEFycmF5QnVmZmVyIGFzIGZpcnN0LCBzZWNvbmQgYW5kIHRoaXJkIGFyZ3VtZW50XCJcbiAgICAgICk7XG4gICAgdGhpcy4jaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMuI3dpZHRoID0gd2lkdGg7XG4gICAgdGhpcy4jZ3JpZCA9IG5ldyBJbnQ4QXJyYXkoc2hhcmVkQXJyYXlCdWZmZXIpO1xuICAgIHRoaXMuI2dyaWRUbXAgPSBuZXcgSW50OEFycmF5KHNoYXJlZEFycmF5QnVmZmVyVG1wKTtcbiAgICB0aGlzLiNpc0dyaWREaXNwbGF5ZWQgPSBuZXcgSW50OEFycmF5KHNoYXJlZERpc3BsYXlGbGFnKTtcbiAgfVxuXG4gIGdyaWRUb1dyaXRlKCkge1xuICAgIHJldHVybiAhIUF0b21pY3MubG9hZCh0aGlzLiNpc0dyaWREaXNwbGF5ZWQsIDApXG4gICAgICA/IHRoaXMuI2dyaWRUbXBcbiAgICAgIDogdGhpcy4jZ3JpZDtcbiAgfVxuXG4gIGdyaWRUb0Rpc3BsYXkoKSB7XG4gICAgcmV0dXJuICEhQXRvbWljcy5sb2FkKHRoaXMuI2lzR3JpZERpc3BsYXllZCwgMClcbiAgICAgID8gdGhpcy4jZ3JpZFxuICAgICAgOiB0aGlzLiNncmlkVG1wO1xuICB9XG5cbiAgY2xlYXJHcmlkKGdyaWQpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuI2hlaWdodDsgaSsrKVxuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aGlzLiN3aWR0aDsgaisrKVxuICAgICAgICB0aGlzLnNldENlbGwoZ3JpZCwgaSwgaiwgU2hhcmVkR3JpZC5ERUFEX0NFTEwpO1xuICB9XG5cbiAgZ2V0Q2VsbChncmlkLCBpLCBqKSB7XG4gICAgaWYgKCEoZ3JpZCBpbnN0YW5jZW9mIEludDhBcnJheSkpXG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFxuICAgICAgICBcIlNoYXJlZEdyaWQuZ2V0Q2VsbCByZXF1aXJlcyBJbnQ4QXJyYXkgYXMgZmlyc3QgYXJndW1lbnRcIlxuICAgICAgKTtcbiAgICBjb25zdCBtID0gaSA+PSB0aGlzLiNoZWlnaHQgPyAwIDogaSA8IDAgPyB0aGlzLiNoZWlnaHQgLSAxIDogaTtcbiAgICBjb25zdCBuID0gaiA+PSB0aGlzLiN3aWR0aCA/IDAgOiBqIDwgMCA/IHRoaXMuI3dpZHRoIC0gMSA6IGo7XG4gICAgcmV0dXJuIEF0b21pY3MubG9hZChncmlkLCBtICogdGhpcy4jd2lkdGggKyBuKTtcbiAgfVxuXG4gIHNldENlbGwoZ3JpZCwgaSwgaiwgdmFsdWUpIHtcbiAgICBpZiAoIShncmlkIGluc3RhbmNlb2YgSW50OEFycmF5KSlcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiU2hhcmVkR3JpZC5nZXRDZWxsIHJlcXVpcmVzIEludDhBcnJheSBhcyBmaXJzdCBhcmd1bWVudFwiXG4gICAgICApO1xuICAgIEF0b21pY3MuZXhjaGFuZ2UoZ3JpZCwgaSAqIHRoaXMuI3dpZHRoICsgaiwgdmFsdWUpO1xuICB9XG5cbiAgZ2V0Q29vcmRzKHgpIHtcbiAgICBpZiAoeCA8IHRoaXMuI3dpZHRoICogdGhpcy4jaGVpZ2h0KSB7XG4gICAgICBsZXQgaSA9IE1hdGguZmxvb3IoeCAvIHRoaXMuI3dpZHRoKTtcbiAgICAgIGxldCBqID0geCAtIGkgKiB0aGlzLiN3aWR0aDtcbiAgICAgIHJldHVybiBbaSwgal07XG4gICAgfVxuICAgIHJldHVybiBbMCwgMF07XG4gIH1cblxuICBnZXRBcnJheUNlbGwoZ3JpZCwgeCkge1xuICAgIHJldHVybiB0aGlzLmdldENlbGwoZ3JpZCwgLi4udGhpcy5nZXRDb29yZHMoeCkpO1xuICB9XG5cbiAgc2V0QXJyYXlDZWxsKGdyaWQsIHgsIHZhbHVlKSB7XG4gICAgdGhpcy5zZXRDZWxsKGdyaWQsIC4uLnRoaXMuZ2V0Q29vcmRzKHgpLCB2YWx1ZSk7XG4gIH1cblxuICBnZXROZWlnaGJvcnMoaSwgaikge1xuICAgIGNvbnN0IG5laWdoYm9ycyA9IFtdO1xuICAgIGZvciAobGV0IGEgPSAtMTsgYSA8IDI7IGErKylcbiAgICAgIGZvciAobGV0IGIgPSAtMTsgYiA8IDI7IGIrKylcbiAgICAgICAgaWYgKGEgIT09IDAgfHwgYiAhPT0gMClcbiAgICAgICAgICBuZWlnaGJvcnMucHVzaCh0aGlzLmdldENlbGwodGhpcy5ncmlkVG9EaXNwbGF5KCksIGkgKyBhLCBqICsgYikpO1xuICAgIHJldHVybiBuZWlnaGJvcnM7XG4gIH1cblxuICBzZXROZXh0QXJyYXlDZWxsU3RhdGUoeCkge1xuICAgIHRoaXMuc2V0TmV4dENlbGxTdGF0ZSguLi50aGlzLmdldENvb3Jkcyh4KSk7XG4gIH1cblxuICBzZXROZXh0Q2VsbFN0YXRlKGksIGopIHtcbiAgICBjb25zdCBjZWxsID0gdGhpcy5nZXRDZWxsKHRoaXMuZ3JpZFRvRGlzcGxheSgpLCBpLCBqKTtcbiAgICBjb25zdCBuZWlnaGJvcnMgPSB0aGlzLmdldE5laWdoYm9ycyhpLCBqKTtcbiAgICBsZXQgYWxpdmUgPSAwO1xuXG4gICAgbmVpZ2hib3JzLmZvckVhY2goKGMpID0+IHtcbiAgICAgIGlmIChjID09PSBTaGFyZWRHcmlkLkFMSVZFX0NFTEwpIGFsaXZlKys7XG4gICAgfSk7XG5cbiAgICBjb25zdCB2YWx1ZSA9XG4gICAgICBhbGl2ZSA9PT0gM1xuICAgICAgICA/IFNoYXJlZEdyaWQuQUxJVkVfQ0VMTFxuICAgICAgICA6IGNlbGwgPT09IFNoYXJlZEdyaWQuQUxJVkVfQ0VMTCAmJiBhbGl2ZSA9PT0gMlxuICAgICAgICA/IFNoYXJlZEdyaWQuQUxJVkVfQ0VMTFxuICAgICAgICA6IFNoYXJlZEdyaWQuREVBRF9DRUxMO1xuXG4gICAgdGhpcy5zZXRDZWxsKHRoaXMuZ3JpZFRvV3JpdGUoKSwgaSwgaiwgdmFsdWUpO1xuICB9XG5cbiAgc2V0TmV4dFNoYXJlU3RhdGUoYSA9IDAsIGIgPSB0aGlzLiNoZWlnaHQgKiB0aGlzLiN3aWR0aCkge1xuICAgIGlmICh0eXBlb2YgYSAhPT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgYiAhPT0gXCJudW1iZXJcIiB8fCBhIDwgMCB8fCBiIDwgMClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgIFwiU2hhcmVkR3JpZC5zZXROZXh0U2hhcmVTdGF0ZSBzaG91bGQgYmUgcnVuIHdpdGggbm8gYXJndW1lbnRzIG9yIHdpdGggdHdvIHBvc2l0aXZlIGludGVnZXJzXCJcbiAgICAgICk7XG5cbiAgICBpZiAoYSA+IGIpIFthLCBiXSA9IFtiLCBhXTtcblxuICAgIGZvciAobGV0IHggPSBhOyB4IDwgYjsgeCsrKSB0aGlzLnNldE5leHRBcnJheUNlbGxTdGF0ZSh4KTtcbiAgfVxufVxuIiwiaW1wb3J0IFF1ZXJ5YWJsZVdvcmtlciBmcm9tIFwiLi9RdWVyeWFibGVXb3JrZXJcIjtcbmltcG9ydCBTaGFyZWRHcmlkIGZyb20gXCIuL1NoYXJlZEdyaWRcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgV29ya2VyTWFuYWdlciB7XG4gICN3b3JrZXJObyA9IHdpbmRvdy5uYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSAtIDE7XG4gICN3b3JrZXJzID0gW107XG5cbiAgI3NoYXJlZEdyaWQ7XG4gICNpc0dyaWREaXNwbGF5ZWQ7IC8vIHNoYXJlZFxuXG4gIC8vIG1lbW9yeSBidWZmZXJzXG4gICNzaGFyZWRBcnJheUJ1ZmZlcjtcbiAgI3NoYXJlZEFycmF5QnVmZmVyVG1wO1xuICAjc2hhcmVkRGlzcGxheUZsYWc7XG5cbiAgI3JlY2VpdmVkR3JpZEFuc3dlcnMgPSAwO1xuXG4gIGNvbnN0cnVjdG9yKGhlaWdodCwgd2lkdGgpIHtcbiAgICB0aGlzLiNzaGFyZWRBcnJheUJ1ZmZlciA9IG5ldyBTaGFyZWRBcnJheUJ1ZmZlcihoZWlnaHQgKiB3aWR0aCk7XG4gICAgdGhpcy4jc2hhcmVkQXJyYXlCdWZmZXJUbXAgPSBuZXcgU2hhcmVkQXJyYXlCdWZmZXIoaGVpZ2h0ICogd2lkdGgpO1xuICAgIHRoaXMuI3NoYXJlZERpc3BsYXlGbGFnID0gbmV3IFNoYXJlZEFycmF5QnVmZmVyKDEpO1xuXG4gICAgdGhpcy4jc2hhcmVkR3JpZCA9IG5ldyBTaGFyZWRHcmlkKCk7XG4gICAgdGhpcy4jc2hhcmVkR3JpZC5pbml0U2hhcmVkR3JpZChcbiAgICAgIHRoaXMuI3NoYXJlZEFycmF5QnVmZmVyLFxuICAgICAgdGhpcy4jc2hhcmVkQXJyYXlCdWZmZXJUbXAsXG4gICAgICB0aGlzLiNzaGFyZWREaXNwbGF5RmxhZyxcbiAgICAgIGhlaWdodCxcbiAgICAgIHdpZHRoXG4gICAgKTtcblxuICAgIHRoaXMuI2lzR3JpZERpc3BsYXllZCA9IG5ldyBJbnQ4QXJyYXkodGhpcy4jc2hhcmVkRGlzcGxheUZsYWcpO1xuICAgIEF0b21pY3MuZXhjaGFuZ2UodGhpcy4jaXNHcmlkRGlzcGxheWVkLCAwLCAwKTtcbiAgfVxuXG4gIGluaXRXZWJXb3JrZXJzKCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jd29ya2VyTm87IGkrKykge1xuICAgICAgdGhpcy4jd29ya2Vycy5wdXNoKG5ldyBRdWVyeWFibGVXb3JrZXIoKSk7XG4gICAgICB0aGlzLiN3b3JrZXJzW2ldLmFkZExpc3RlbmVyKFwicHJpbnRTdHVmZlwiLCAobWVzc2FnZSkgPT5cbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSlcbiAgICAgICk7XG4gICAgICB0aGlzLiN3b3JrZXJzW2ldLnNlbmRRdWVyeShcbiAgICAgICAgXCJpbml0U2hhcmVkR3JpZFwiLFxuICAgICAgICB0aGlzLiNzaGFyZWRBcnJheUJ1ZmZlcixcbiAgICAgICAgdGhpcy4jc2hhcmVkQXJyYXlCdWZmZXJUbXAsXG4gICAgICAgIHRoaXMuI3NoYXJlZERpc3BsYXlGbGFnLFxuICAgICAgICB0aGlzLiNzaGFyZWRHcmlkLmhlaWdodCxcbiAgICAgICAgdGhpcy4jc2hhcmVkR3JpZC53aWR0aFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBzY2F0dGVyUXVlcnkocXVlcnlNZXRob2QsIC4uLnF1ZXJ5QXJndW1lbnRzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLiN3b3JrZXJObzsgaSsrKVxuICAgICAgdGhpcy4jd29ya2Vyc1tpXS5zZW5kUXVlcnkocXVlcnlNZXRob2QsIC4uLnF1ZXJ5QXJndW1lbnRzKTtcbiAgfVxuXG4gIHNjYXR0ZXJMaXN0ZW5lcihuYW1lLCBsaXN0ZW5lcikge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy4jd29ya2VyTm87IGkrKylcbiAgICAgIHRoaXMuI3dvcmtlcnNbaV0uYWRkTGlzdGVuZXIobmFtZSwgbGlzdGVuZXIpO1xuICB9XG5cbiAgZ2V0Q2VsbFRvRGlzcGxheShpLCBqKSB7XG4gICAgcmV0dXJuIHRoaXMuI3NoYXJlZEdyaWQuZ2V0Q2VsbCh0aGlzLiNzaGFyZWRHcmlkLmdyaWRUb0Rpc3BsYXkoKSwgaSwgaik7XG4gIH1cblxuICB0b2dnbGVDZWxsVG9EaXNwbGF5KGksIGopIHtcbiAgICBjb25zdCBncmlkVG9EaXNwbGF5ID0gdGhpcy4jc2hhcmVkR3JpZC5ncmlkVG9EaXNwbGF5KCk7XG4gICAgdGhpcy4jc2hhcmVkR3JpZC5zZXRDZWxsKFxuICAgICAgZ3JpZFRvRGlzcGxheSxcbiAgICAgIGksXG4gICAgICBqLFxuICAgICAgdGhpcy4jc2hhcmVkR3JpZC5nZXRDZWxsKGdyaWRUb0Rpc3BsYXksIGksIGopID09PSBTaGFyZWRHcmlkLkRFQURfQ0VMTFxuICAgICAgICA/IFNoYXJlZEdyaWQuQUxJVkVfQ0VMTFxuICAgICAgICA6IFNoYXJlZEdyaWQuREVBRF9DRUxMXG4gICAgKTtcbiAgfVxuXG4gIHRvZ2dsZURpc3BsYXlGbGFnKCkge1xuICAgIGNvbnN0IGZsYWcgPSBBdG9taWNzLmxvYWQodGhpcy4jaXNHcmlkRGlzcGxheWVkLCAwKTtcbiAgICBBdG9taWNzLmV4Y2hhbmdlKHRoaXMuI2lzR3JpZERpc3BsYXllZCwgMCwgISFmbGFnID8gMCA6IDEpO1xuICB9XG5cbiAgY2FsY05leHRTdGF0ZSgpIHtcbiAgICB0aGlzLiNzaGFyZWRHcmlkLnNldE5leHRTaGFyZVN0YXRlKCk7XG4gICAgdGhpcy50b2dnbGVEaXNwbGF5RmxhZygpO1xuICB9XG5cbiAgY2FsY05leHRTdGF0ZVBhcmFsbGVsKCkge1xuICAgIGNvbnN0IGxlbiA9IHRoaXMuI3NoYXJlZEdyaWQuaGVpZ2h0ICogdGhpcy4jc2hhcmVkR3JpZC53aWR0aDtcbiAgICBjb25zdCBtb2QgPSBsZW4gJSB0aGlzLiN3b3JrZXJObztcbiAgICBjb25zdCBzaGFyZSA9IE1hdGguZmxvb3IobGVuIC8gdGhpcy4jd29ya2VyTm8pO1xuXG4gICAgY29uc3QgYSA9IHRoaXMuI3dvcmtlck5vIC0gbW9kO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhOyBpKyspXG4gICAgICB0aGlzLiN3b3JrZXJzW2ldLnNlbmRRdWVyeShcbiAgICAgICAgXCJzZXROZXh0U2hhcmVTdGF0ZVwiLFxuICAgICAgICBpICogc2hhcmUsXG4gICAgICAgIChpICsgMSkgKiBzaGFyZVxuICAgICAgKTtcblxuICAgIGNvbnN0IG9mZnNldCA9IHNoYXJlICogYTtcblxuICAgIGZvciAobGV0IGkgPSBhOyBpIDwgdGhpcy4jd29ya2VyTm87IGkrKylcbiAgICAgIHRoaXMuI3dvcmtlcnNbaV0uc2VuZFF1ZXJ5KFxuICAgICAgICBcInNldE5leHRTaGFyZVN0YXRlXCIsXG4gICAgICAgIG9mZnNldCArIChpIC0gYSkgKiAoc2hhcmUgKyAxKSxcbiAgICAgICAgb2Zmc2V0ICsgKGkgLSBhICsgMSkgKiAoc2hhcmUgKyAxKVxuICAgICAgKTtcbiAgfVxuXG4gIGNsZWFyRGlzcGxheVNoYXJlZEdyaWQoKSB7XG4gICAgdGhpcy4jc2hhcmVkR3JpZC5jbGVhckdyaWQodGhpcy4jc2hhcmVkR3JpZC5ncmlkVG9EaXNwbGF5KCkpO1xuICB9XG5cbiAgLy8gdHJ1ZSBpZiBhbnN3ZXJzIHJlY2VpdmVkIGZyb20gYWxsIHRocmVhZHMsIGZhbHNlIC0gb3RoZXJ3aXNlXG4gIGluY3JHcmlkQW5zd2VyKCkge1xuICAgIGlmICgrK3RoaXMuI3JlY2VpdmVkR3JpZEFuc3dlcnMgPj0gdGhpcy4jd29ya2VyTm8pIHtcbiAgICAgIHRoaXMuI3JlY2VpdmVkR3JpZEFuc3dlcnMgPSAwO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBDYW52YXMge1xuICBzdGF0aWMgREVBRF9DRUxMX0ZJTEwgPSBcIndoaXRlXCI7XG4gIHN0YXRpYyBBTElWRV9DRUxMX0ZJTEwgPSBcImJsYWNrXCI7XG4gIHN0YXRpYyAjSE9WRVJfRklMTCA9IFwiZ3JheVwiO1xuICBzdGF0aWMgI0xJTkVfV0lEVEggPSBcIjFcIjtcblxuICAjY2FudmFzO1xuICAjY3R4O1xuXG4gICNncmlkSGVpZ2h0O1xuICAjZ3JpZFdpZHRoO1xuICAjY2VsbFNpemU7XG5cbiAgY29uc3RydWN0b3IocXVlcnlTdHJpbmcsIGdyaWRIZWlnaHQsIGdyaWRXaWR0aCkge1xuICAgIHRoaXMuI2NhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocXVlcnlTdHJpbmcpO1xuICAgIHRoaXMuI2N0eCA9IHRoaXMuI2NhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy5zZXRHcmlkKGdyaWRIZWlnaHQsIGdyaWRXaWR0aCk7XG4gIH1cblxuICBnZXQgY2FudmFzKCkge1xuICAgIHJldHVybiB0aGlzLiNjYW52YXM7XG4gIH1cblxuICBnZXRQYXJlbnRXaWR0aCgpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FudmFzLnBhcmVudEVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIH1cblxuICBzZXRHcmlkKGdyaWRIZWlnaHQsIGdyaWRXaWR0aCkge1xuICAgIHRoaXMuI2dyaWRIZWlnaHQgPSBncmlkSGVpZ2h0O1xuICAgIHRoaXMuI2dyaWRXaWR0aCA9IGdyaWRXaWR0aDtcbiAgICB0aGlzLnNldFNpemUoKTtcbiAgfVxuXG4gIGdldEhlaWdodCgpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FudmFzLnNjcm9sbEhlaWdodDtcbiAgfVxuXG4gIGdldFdpZHRoKCkge1xuICAgIHJldHVybiB0aGlzLiNjYW52YXMuc2Nyb2xsV2lkdGg7XG4gIH1cblxuICBzZXRTaXplKCkge1xuICAgIHRoaXMuI2NlbGxTaXplID0gdGhpcy5nZXRQYXJlbnRXaWR0aCgpIC8gdGhpcy4jZ3JpZFdpZHRoO1xuICAgIHRoaXMuI2NhbnZhcy53aWR0aCA9IHRoaXMuZ2V0UGFyZW50V2lkdGgoKTtcbiAgICB0aGlzLiNjYW52YXMuaGVpZ2h0ID0gdGhpcy4jY2VsbFNpemUgKiB0aGlzLiNncmlkSGVpZ2h0O1xuICB9XG5cbiAgY2VsbFRvQ29yZHMoaSwgaikge1xuICAgIHJldHVybiBbaiAqIHRoaXMuI2NlbGxTaXplLCBpICogdGhpcy4jY2VsbFNpemVdO1xuICB9XG5cbiAgY29yZHNUb0NlbGwoeCwgeSkge1xuICAgIHJldHVybiBbTWF0aC5mbG9vcih5IC8gdGhpcy4jY2VsbFNpemUpLCBNYXRoLmZsb29yKHggLyB0aGlzLiNjZWxsU2l6ZSldO1xuICB9XG5cbiAgZHJhd0JvcmRlcihpLCBqLCB2YWx1ZSkge1xuICAgIHRoaXMuI2N0eC5iZWdpblBhdGgoKTtcbiAgICB0aGlzLiNjdHgubGluZVdpZHRoID0gQ2FudmFzLiNMSU5FX1dJRFRIO1xuICAgIHRoaXMuI2N0eC5zdHJva2VTdHlsZSA9IHZhbHVlO1xuICAgIHRoaXMuI2N0eC5yZWN0KC4uLnRoaXMuY2VsbFRvQ29yZHMoaSwgaiksIHRoaXMuI2NlbGxTaXplLCB0aGlzLiNjZWxsU2l6ZSk7XG4gICAgdGhpcy4jY3R4LnN0cm9rZSgpO1xuICB9XG5cbiAgLy8gZmlsbCBjZWxsIHdpdGhvdXQgYm9yZGVyc1xuICBmaWxsQ2VsbChpLCBqLCBmaWxsID0gQ2FudmFzLkFMSVZFX0NFTExfRklMTCkge1xuICAgIGNvbnN0IGNvcmRzID0gdGhpcy5jZWxsVG9Db3JkcyhpLCBqKTtcbiAgICBjb3Jkc1swXSArPSAxO1xuICAgIGNvcmRzWzFdICs9IDE7XG5cbiAgICB0aGlzLiNjdHguZmlsbFN0eWxlID0gZmlsbDtcbiAgICB0aGlzLiNjdHguZmlsbFJlY3QoLi4uY29yZHMsIHRoaXMuI2NlbGxTaXplIC0gMiwgdGhpcy4jY2VsbFNpemUgLSAyKTtcbiAgfVxuXG4gIC8vIGZpbGwgd2hvbGUgY2VsbCB3aXRoIGJsYWNrIGNvbG9yXG4gIGZpbGxDZWxsQWxpdmUoaSwgaikge1xuICAgIGNvbnN0IGNvcmRzID0gdGhpcy5jZWxsVG9Db3JkcyhpLCBqKTtcbiAgICB0aGlzLiNjdHguZmlsbFN0eWxlID0gQ2FudmFzLkFMSVZFX0NFTExfRklMTDtcbiAgICB0aGlzLiNjdHguZmlsbFJlY3QoLi4uY29yZHMsIHRoaXMuI2NlbGxTaXplLCB0aGlzLiNjZWxsU2l6ZSk7XG4gIH1cblxuICAvLyBmaWxsIHdob2xlIGNlbGwgd2l0aCB3aGl0ZSBjb2xvciBhbmQgdGhlbiBkcmF3Q2VsbCAobG9va3MgYmV0dGVyIHRoYW4ganVzdCBmaWxsQ2VsbClcbiAgZmlsbENlbGxEZWFkKGksIGopIHtcbiAgICBjb25zdCBjb3JkcyA9IHRoaXMuY2VsbFRvQ29yZHMoaSwgaik7XG4gICAgdGhpcy4jY3R4LmZpbGxTdHlsZSA9IENhbnZhcy5ERUFEX0NFTExfRklMTDtcbiAgICB0aGlzLiNjdHguZmlsbFJlY3QoLi4uY29yZHMsIHRoaXMuI2NlbGxTaXplLCB0aGlzLiNjZWxsU2l6ZSk7XG4gICAgdGhpcy5kcmF3Qm9yZGVyKGksIGosIENhbnZhcy5BTElWRV9DRUxMX0ZJTEwpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkSW5wdXQge1xuICBzdGF0aWMgI0RFRkFVTFRfSEVJR0hUID0gNTA7XG4gIHN0YXRpYyAjREVGQVVMVF9XSURUSCA9IDExMDtcbiAgI2hlaWdodElucHV0O1xuICAjd2lkdGhJbnB1dDtcblxuICBjb25zdHJ1Y3RvcihoZWlnaHRRdWVyeSwgd2lkdGhRdWVyeSkge1xuICAgIHRoaXMuI2hlaWdodElucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihoZWlnaHRRdWVyeSk7XG4gICAgdGhpcy4jd2lkdGhJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Iod2lkdGhRdWVyeSk7XG5cbiAgICB0aGlzLiNoZWlnaHRJbnB1dC52YWx1ZSA9IEdyaWRJbnB1dC4jREVGQVVMVF9IRUlHSFQ7XG4gICAgdGhpcy4jd2lkdGhJbnB1dC52YWx1ZSA9IEdyaWRJbnB1dC4jREVGQVVMVF9XSURUSDtcblxuICAgIHRoaXMuI2hlaWdodElucHV0Lm9uaW5wdXQgPSB0aGlzLmhhbmRsZUNoYW5nZSh0aGlzLiNoZWlnaHRJbnB1dCk7XG4gICAgdGhpcy4jd2lkdGhJbnB1dC5vbmlucHV0ID0gdGhpcy5oYW5kbGVDaGFuZ2UodGhpcy4jd2lkdGhJbnB1dCk7XG4gIH1cblxuICBoYW5kbGVDaGFuZ2UoaW5wdXQpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY29uc3QgZSA9IG5ldyBFdmVudChcInJlc2l6ZVwiKTtcbiAgICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIH07XG4gIH1cblxuICBnZXQgZ3JpZEhlaWdodCgpIHtcbiAgICByZXR1cm4gIXRoaXMuI2hlaWdodElucHV0LnZhbHVlXG4gICAgICA/IEdyaWRJbnB1dC4jREVGQVVMVF9IRUlHSFRcbiAgICAgIDogcGFyc2VJbnQodGhpcy4jaGVpZ2h0SW5wdXQudmFsdWUpID4gdGhpcy4jaGVpZ2h0SW5wdXQubWF4XG4gICAgICA/IHBhcnNlSW50KHRoaXMuI2hlaWdodElucHV0Lm1heClcbiAgICAgIDogcGFyc2VJbnQodGhpcy4jaGVpZ2h0SW5wdXQudmFsdWUpIDwgdGhpcy4jaGVpZ2h0SW5wdXQubWluXG4gICAgICA/IHBhcnNlSW50KHRoaXMuI2hlaWdodElucHV0Lm1pbilcbiAgICAgIDogcGFyc2VJbnQodGhpcy4jaGVpZ2h0SW5wdXQudmFsdWUpO1xuICB9XG5cbiAgZ2V0IGdyaWRXaWR0aCgpIHtcbiAgICByZXR1cm4gIXRoaXMuI3dpZHRoSW5wdXQudmFsdWVcbiAgICAgID8gR3JpZElucHV0LiNERUZBVUxUX1dJRFRIXG4gICAgICA6IHBhcnNlSW50KHRoaXMuI3dpZHRoSW5wdXQudmFsdWUpID4gdGhpcy4jd2lkdGhJbnB1dC5tYXhcbiAgICAgID8gcGFyc2VJbnQodGhpcy4jd2lkdGhJbnB1dC5tYXgpXG4gICAgICA6IHBhcnNlSW50KHRoaXMuI3dpZHRoSW5wdXQudmFsdWUpIDwgdGhpcy4jd2lkdGhJbnB1dC5taW5cbiAgICAgID8gcGFyc2VJbnQodGhpcy4jd2lkdGhJbnB1dC5taW4pXG4gICAgICA6IHBhcnNlSW50KHRoaXMuI3dpZHRoSW5wdXQudmFsdWUpO1xuICB9XG59XG4iLCJpbXBvcnQgXCIuL3N0eWxlcy9pbmRleC5zY3NzXCI7XG5pbXBvcnQgXCIuL3N0eWxlcy9yZXNldC5jc3NcIjtcblxuaW1wb3J0IHsgV29ya2VyTWFuYWdlciwgQ2FudmFzLCBTaGFyZWRHcmlkLCBHcmlkSW5wdXQgfSBmcm9tIFwiLi9tb2R1bGVzXCI7XG5cbmNvbnN0IG5leHRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbi0tc3RhcnRcIik7XG5jb25zdCBjbGVhckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLS1jbGVhclwiKTtcblxuY29uc3QgZ3JpZElucHV0ID0gbmV3IEdyaWRJbnB1dChcbiAgXCIuaW5wdXQtLWhlaWdodCA+IGlucHV0XCIsXG4gIFwiLmlucHV0LS13aWR0aCA+IGlucHV0XCJcbik7XG5cbmNvbnN0IGNhbnZhcyA9IG5ldyBDYW52YXMoXCIjY2FudmFzXCIsIGdyaWRJbnB1dC5ncmlkSGVpZ2h0LCBncmlkSW5wdXQuZ3JpZFdpZHRoKTtcblxubGV0IHdvcmtlck1hbmFnZXIgPSBuZXcgV29ya2VyTWFuYWdlcihcbiAgZ3JpZElucHV0LmdyaWRIZWlnaHQsXG4gIGdyaWRJbnB1dC5ncmlkV2lkdGhcbik7XG53b3JrZXJNYW5hZ2VyLmluaXRXZWJXb3JrZXJzKCk7XG5cbndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsICgpID0+IHtcbiAgY2xpY2tlZCA9ICFjbGlja2VkO1xuICB3b3JrZXJNYW5hZ2VyID0gbmV3IFdvcmtlck1hbmFnZXIoZ3JpZElucHV0LmdyaWRIZWlnaHQsIGdyaWRJbnB1dC5ncmlkV2lkdGgpO1xuICB3b3JrZXJNYW5hZ2VyLmluaXRXZWJXb3JrZXJzKCk7XG4gIGNhbnZhcy5zZXRHcmlkKGdyaWRJbnB1dC5ncmlkSGVpZ2h0LCBncmlkSW5wdXQuZ3JpZFdpZHRoKTtcbiAgcmVuZGVyKCk7XG59KTtcblxuY29uc3QgcmVuZGVyID0gKCkgPT4ge1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGdyaWRJbnB1dC5ncmlkSGVpZ2h0OyBpKyspXG4gICAgZm9yIChsZXQgaiA9IDA7IGogPCBncmlkSW5wdXQuZ3JpZFdpZHRoOyBqKyspXG4gICAgICBpZiAod29ya2VyTWFuYWdlci5nZXRDZWxsVG9EaXNwbGF5KGksIGopID09PSBTaGFyZWRHcmlkLkFMSVZFX0NFTEwpXG4gICAgICAgIGNhbnZhcy5maWxsQ2VsbEFsaXZlKGksIGopO1xuICAgICAgZWxzZSBjYW52YXMuZmlsbENlbGxEZWFkKGksIGopO1xufTtcbnJlbmRlcigpO1xuXG5jb25zdCByZXJlbmRlckV2ZW50ID0gbmV3IEV2ZW50KFwicmVyZW5kZXJcIik7XG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlcmVuZGVyXCIsICgpID0+IHtcbiAgcmVuZGVyKCk7XG59KTtcblxuY2FudmFzLmNhbnZhcy5vbm1vdXNlZG93biA9ICh7IG9mZnNldFgsIG9mZnNldFkgfSkgPT4ge1xuICBjb25zdCBjb3JkcyA9IGNhbnZhcy5jb3Jkc1RvQ2VsbChvZmZzZXRYLCBvZmZzZXRZKTtcbiAgY29uc3QgY2VsbCA9IHdvcmtlck1hbmFnZXIuZ2V0Q2VsbFRvRGlzcGxheSguLi5jb3Jkcyk7XG5cbiAgaWYgKGNlbGwgPT09IFNoYXJlZEdyaWQuQUxJVkVfQ0VMTCkgY2FudmFzLmZpbGxDZWxsRGVhZCguLi5jb3Jkcyk7XG4gIGVsc2UgY2FudmFzLmZpbGxDZWxsQWxpdmUoLi4uY29yZHMpO1xuXG4gIHdvcmtlck1hbmFnZXIudG9nZ2xlQ2VsbFRvRGlzcGxheSguLi5jb3Jkcyk7XG59O1xuXG53b3JrZXJNYW5hZ2VyLnNjYXR0ZXJMaXN0ZW5lcihcImdyaWRBbnN3ZXJcIiwgKCkgPT4ge1xuICBpZiAod29ya2VyTWFuYWdlci5pbmNyR3JpZEFuc3dlcigpKSB7XG4gICAgd29ya2VyTWFuYWdlci50b2dnbGVEaXNwbGF5RmxhZygpO1xuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KHJlcmVuZGVyRXZlbnQpO1xuICB9XG59KTtcblxubGV0IGNsaWNrZWQgPSBmYWxzZTtcbmxldCB0aW1lb3V0SWQ7XG5jb25zdCB0aW1lb3V0TmV4dCA9ICgpID0+IHtcbiAgd29ya2VyTWFuYWdlci5jYWxjTmV4dFN0YXRlUGFyYWxsZWwoKTtcbiAgdGltZW91dElkID0gc2V0VGltZW91dCh0aW1lb3V0TmV4dCwgMjAwKTtcbn07XG5cbm5leHRCdXR0b24ub25jbGljayA9ICgpID0+IHtcbiAgY2xpY2tlZCA9ICFjbGlja2VkO1xuICBpZiAoY2xpY2tlZCkgdGltZW91dE5leHQoKTtcbiAgZWxzZSBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbn07XG5cbmNsZWFyQnV0dG9uLm9uY2xpY2sgPSAoKSA9PiB7XG4gIHdvcmtlck1hbmFnZXIuY2xlYXJEaXNwbGF5U2hhcmVkR3JpZCgpO1xuICByZW5kZXIoKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9